<!doctype html>
<html>
<head>
    <title th:inline="text" >EMREX - Danish National Contact Point</title>
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100' rel='stylesheet' type='text/css' />
    <link href="../css/angular-bootstrap.css" rel="stylesheet" />
    <link rel="stylesheet" href="../common/styles/pure-min.css"/>
    <link rel="stylesheet" href="../common/styles/custom.css"/>
    <style type="text/css">
        [ng\:cloak], [ng-cloak], .ng-cloak {
            display: none !important;
        }
    </style>
</head>

<body ng-app="idpSelection">

    <div class="container" style="margin-top:2em;">
        <div class="row">
            <div class="col-xs-12" style="display:flex;margin-bottom:2em; background-color:rgb(0,20,145);color:white;">
                <img src="../common/img/emrex.png" style="margin-right:2em; height:86px;" />
                <div style="height:86px;line-height:86px;">
                    <span style="font-size:2.5em;font-weight:lighter; white-space: nowrap;">EMREX - Danish National Contact Point</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <span>
                    <h2>Welcome to EMREX in Denmark</h2>
                    You have now arrived at the EMREX Danish National Contact Point and are only a few clicks from having transferred results to your home university.<br/>
                    Click the name of the university from which you want to transfer your results.<br/>
                    After this you can log in to the university by using the same login you have been using for their Self-service portal.<br/>
                    Please note that only the Danish universities participating in the EMREX Field Trial are in this list.<br/>
                </span>
            </div>
        </div>

        <hr/>

        <div class="row">
            <div class="col-xs-12 idpSelection">
                <div class="idpSelection__header">
                    <span>Select your University</span>
                    <aside>Click on a university name</aside>
                </div>
                <div class="idpSelection__items">
                    <div ng-controller="idpSelector" class="ng-cloak">
                        <form name="idpForm" th:attr="action=${idpDiscoReturnURL}" method="get">
                            <ul>
                                <li th:each="idp : ${idps}">
                                    <label class="btn btn-link">
                                        <input type="radio" th:attr="name=${idpDiscoReturnParam}, value=${idp.getId()}" ng-click="onIdpSelect()" />
                                        <span th:text="${idp.getName()}">Name of IDP</span>
                                    </label>
                                </li>
                            </ul>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <br/><br/>
                <span>If something is not working, please contact your home university or <a href="mailto:emrex-support@emrex.eu">emrex-support@emrex.eu</a>.</span>
            </div>
        </div>

    </div>

    <script src="../js/angular-bootstrap.js" type="text/javascript"></script>
    <script>
        var app = angular.module('idpSelection', []);

        app.controller('idpSelector', function ($scope, $element) {

            $scope.onIdpSelect = function() {
                $element.find("form[name=idpForm]").submit();
            };

        });
    </script>
</body>
</html>


